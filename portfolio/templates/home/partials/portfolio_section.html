<!-- templates/home/partials/portfolio_section.html -->
{% load static %}
<section id="portfolio" class="portfolio section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <h2>Portfolio</h2>
        <p>Explore my recent projects showcasing expertise in Django development, database design, and full-stack solutions</p>
    </div><!-- End Section Title -->

    <div class="container">

        <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

            <!-- Portfolio Filters -->
            <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="100">
                <li data-filter="*" class="filter-active">All</li>
                {% for category in categories %}
                <li data-filter=".filter-{{ category.slug }}">{{ category.name }}</li>
                {% endfor %}
            </ul><!-- End Portfolio Filters -->

            <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">

                {% for item in portfolio_items %}
                <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-{{ item.category.slug }}">
                    <img src="{{ item.thumbnail.url }}" class="img-fluid" alt="{{ item.title }}">
                    <div class="portfolio-info">
                        <h4>{{ item.title }}</h4>
                        <p>{{ item.short_description|truncatewords:15 }}</p>
                        <a href="{{ item.thumbnail.url }}" 
                           title="{{ item.title }}" 
                           data-gallery="portfolio-gallery-{{ item.category.slug }}" 
                           class="glightbox preview-link">
                            <i class="bi bi-zoom-in"></i>
                        </a>
                        <a href="{% url 'home:portfolio_detail' item.slug %}" 
                           title="More Details" 
                           class="details-link">
                            <i class="bi bi-link-45deg"></i>
                        </a>
                    </div>
                </div><!-- End Portfolio Item -->
                {% empty %}
                <div class="col-12">
                    <div class="alert alert-info text-center">
                        <i class="bi bi-info-circle"></i> No portfolio items available yet. Check back soon!
                    </div>
                </div>
                {% endfor %}

            </div><!-- End Portfolio Container -->

        </div>

    </div>
</section><!-- /Portfolio Section -->